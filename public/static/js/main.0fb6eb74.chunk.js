(this["webpackJsonpTechChallenge-client"]=this["webpackJsonpTechChallenge-client"]||[]).push([[0],{37:function(t,e,n){},56:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(30),o=n.n(r),i=(n(37),n(20)),s=n(32),u=n(9),d=n(10),l=n(12),h=n(11),j=n(2),b="https://argonautechallenge.herokuapp.com",p=n(13),g=n.n(p),f=(n(56),n(7)),O=n(1),m=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(f.b,{to:"/",children:Object(O.jsx)("img",{src:"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png",alt:"Wild Code School logo"})}),Object(O.jsx)("h1",{children:"Les Agronautes"})]})}}]),n}(a.Component),v=(n(63),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props.argonautes;return Object(O.jsxs)("div",{className:"mainContainer",children:[Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h2",{children:"Ajouter un(e) Argonaute"}),Object(O.jsx)("h3",{children:"Nom de l'Argonaute"}),Object(O.jsxs)("form",{onSubmit:this.props.onAdd,children:[Object(O.jsx)("input",{name:"name",type:"text",placeholder:"argonaute"}),Object(O.jsx)("input",{name:"description",type:"text",placeholder:"description"}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"Membres de l'\xe9quipages"})})})]}),Object(O.jsx)("div",{className:"dataPrint",children:t.map((function(t){return Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/argonautes/".concat(t._id),children:Object(O.jsx)("div",{className:"oneAgronaute",children:Object(O.jsxs)("h5",{children:[t.name," ",t.description]})})},t._id)}))})]})}}]),n}(a.Component)),x=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={argonaute:{}},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.argonauteId;g.a.get("".concat(b,"/api/argonautes/").concat(e)).then((function(e){t.setState({argonaute:e.data})})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var t=this.state.argonaute,e=this.props.onDelete;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h4",{children:"Details are:"}),Object(O.jsxs)("div",{children:["Name: ",t.name]}),Object(O.jsxs)("div",{children:["Description: ",t.description]}),Object(O.jsx)(f.b,{to:"/argonautes/".concat(t._id,"/edit"),children:Object(O.jsx)("button",{children:"Edit"})}),Object(O.jsx)(f.b,{to:"/",children:Object(O.jsx)("button",{onClick:function(){e(t._id)},children:"Delete"})})]})}}]),n}(a.Component),y=(n(64),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={argonaute:{}},t.handleNameChange=function(e){var n=e.target.value,a=JSON.parse(JSON.stringify(t.state.argonaute));a.name=n,t.setState({argonaute:a})},t.handleDescriptionChange=function(e){var n=e.target.value,a=JSON.parse(JSON.stringify(t.state.argonaute));a.description=n,t.setState({argonaute:a})},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.argonauteId;g.a.get("".concat(b,"/api/argonautes/").concat(e)).then((function(e){t.setState({argonaute:e.data})})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var t=this.state.argonaute,e=this.props.onEdit;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("input",{type:"text",onChange:this.handleNameChange,value:t.name}),Object(O.jsx)("input",{type:"text",onChange:this.handleDescriptionChange,value:t.description}),Object(O.jsx)(f.b,{to:"/",children:Object(O.jsx)("button",{onClick:function(){e(t)},children:"Edit"})})]})}}]),n}(a.Component)),S=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={argonautes:[]},t.handleSubmit=function(e){e.preventDefault();var n=e.target.name.value,a=e.target.description.value;g.a.post("".concat(b,"/api/create"),{name:n,description:a}).then((function(e){t.setState({argonautes:[e.data].concat(Object(s.a)(t.state.argonautes))})})).catch((function(){console.log("create failed")}))},t.handleEditArgonaute=function(e){g.a.patch("".concat(b,"/api/argonautes/").concat(e._id),{name:e.name,description:e.description}).then((function(){var n=JSON.parse(JSON.stringify(t.state.argonautes));n.forEach((function(t){e._id===t._id&&(t.name=e.name,t.description=e.description)})),t.setState({argonautes:n})})).catch((function(t){console.log("Edit failed",t)}))},t.handleDeleteArgonaute=function(e){return g.a.delete("".concat(b,"/api/argonautes/").concat(e)).then((function(){var n=t.state.argonautes.filter((function(t){return t._id!==e}));t.setState({argonautes:n})})).catch((function(t){console.log("delete failed",t)}))},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;g.a.get("".concat(b,"/api/argonautes")).then((function(e){t.setState({argonautes:e.data})})).catch((function(){console.log("Fectching failed")}))}},{key:"render",value:function(){var t=this,e=this.state.argonautes;return Object(O.jsxs)("div",{children:[Object(O.jsx)(m,{}),Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(O.jsx)(v,{onAdd:t.handleSubmit,argonautes:e})}}),Object(O.jsx)(j.a,{exact:!0,path:"/argonautes/:argonauteId",render:function(e){return Object(O.jsx)(x,Object(i.a)({onDelete:t.handleDeleteArgonaute},e))}}),Object(O.jsx)(j.a,{path:"/argonautes/:argonauteId/edit",render:function(e){return Object(O.jsx)(y,Object(i.a)({onEdit:t.handleEditArgonaute},e))}})]})]})}}]),n}(a.Component);o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(f.a,{children:Object(O.jsx)(S,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.0fb6eb74.chunk.js.map